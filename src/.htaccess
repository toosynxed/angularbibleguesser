<ifModule mod_rewrite.c>
  RewriteEngine On
  # -- REDIRECTION to https
  RewriteCond %{HTTPS} off
  RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

  # If the request is for an existing file, directory, or symlink, serve it directly.
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d [OR]
  RewriteCond %{REQUEST_FILENAME} -l
  RewriteRule ^ - [L]

  # Otherwise, rewrite the request to /index.html to let Angular handle it.
  RewriteRule ^ /index.html [L]
</ifModule>
