<div class="container">
  <header>
    <h1>Bible Guesser</h1>
    <p>Test your knowledge of the scriptures. Enter a name below to appear on the leaderboard!</p>
  </header>

  <main class="home-main">
    <h2>Choose a Game Mode</h2>
    <div class="player-input" *ngIf="!(authService.user$ | async)">
      <input type="text" [(ngModel)]="username" placeholder="Enter your name...">
    </div>
    <div *ngIf="!(authService.user$ | async) && !username" class="signin-prompt">
      <p>Or, sign in to save your stats automatically!</p>
      <button (click)="authService.googleSignIn()">Sign in with Google</button>
    </div>
    <button (click)="startGame('normal')" [disabled]="!(authService.user$ | async) && !username">Normal Mode (1 Round)</button>
    <button (click)="startGame('marathon')" [disabled]="!(authService.user$ | async) && !username">Marathon Mode (5 Rounds)</button>
    <button class="secondary" (click)="showCodeInput = !showCodeInput">Play with Code</button>

    <div class="leaderboard-link">
      <a routerLink="/leaderboard" title="View Leaderboard">üèÜ Leaderboard</a>
    </div>

    <div *ngIf="showCodeInput" class="code-input-container">
      <input
        type="text"
        [(ngModel)]="gameCode"
        placeholder="Enter game code..."
        (keyup.enter)="playFromCode()"
      >
      <button (click)="playFromCode()">Start from Code</button>
      <p *ngIf="error" class="error-message">{{ error }}</p>
    </div>
  </main>
</div>
